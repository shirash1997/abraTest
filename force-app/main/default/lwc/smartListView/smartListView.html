<template>
  <lightning-card title="Smart List View">
    <div class="slds-p-around_medium">
      <!-- אובייקט לבחירה -->
      <lightning-combobox
        label="בחר אובייקט"
        value={selectedObject}
        options={objectOptions}
        onchange={handleObjectChange}>
      </lightning-combobox>

      <!-- בחירת שדות -->
      <template if:true={fieldOptions}>
        <lightning-dual-listbox
          name="fields"
          label="בחר שדות להצגה"
          source-label="שדות זמינים"
          selected-label="שדות מוצגים"
          options={fieldOptions}
          value={selectedFields}
          onchange={handleFieldSelection}>
        </lightning-dual-listbox>
      </template>

      <!-- טבלת נתונים -->
      <template if:true={records}>
        <lightning-datatable
          key-field="Id"
          data={records}
          columns={columns}>
        </lightning-datatable>
      </template>
    </div>
  </lightning-card>
</template>
